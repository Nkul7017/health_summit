!function(l,d){String.prototype.hasOwnProperty("trim")||(String.prototype.trim=function(){return this.replace(/^\s*(.*?)\s*$/,"$1")});function n(e){if(!((e=1===arguments.length&&"function"==typeof e?[e]:e)instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");for(var n=0;n<e.length;n++)if("function"==typeof e[n])for(var t=0;t<this.length;t++)e[n].call(l(this[t]));else console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on");return this}function f(e,n){var t=e.getBoundingClientRect(),r=t.top,o=t.bottom,i=t.left,s=t.right,a=l.extend({tolerance:0,viewport:d},n),c=!1,u=a.viewport.jquery?a.viewport:l(a.viewport);u.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),console.warn("isInViewport: Defaulting to viewport as window"),u=l(d));var e=u.height(),t=u.width(),n=u[0].toString();return u[0]!==d&&"[object Window]"!==n&&"[object DOMWindow]"!==n&&(r-=(n=u[0].getBoundingClientRect()).top,o-=n.top,i-=n.left,s-=n.left,t-=f.scrollBarWidth=f.scrollBarWidth||(n=u,u=l("<div></div>").css({width:"100%"}),n.append(u),n=n.width()-u.width(),u.remove(),n)),a.tolerance=~~Math.round(parseFloat(a.tolerance)),a.tolerance<0&&(a.tolerance=e+a.tolerance),s<=0||t<=i?c:c=a.tolerance?!!(r<=a.tolerance&&o>=a.tolerance):!!(0<o&&r<=e)}l.fn.do=function(e){return console.warn("isInViewport: .do is deprecated as it causes issues in IE and some browsers since it's a reserved word. Use $.fn.run instead i.e., $(el).run(fn)."),n(e)},l.fn.run=n;function r(e){if(e){e=e.split(",");return 1===e.length&&isNaN(e[0])&&(e[1]=e[0],e[0]=void 0),{tolerance:e[0]?e[0].trim():void 0,viewport:e[1]?l(e[1].trim()):void 0}}return{}}l.extend(l.expr[":"],{"in-viewport":l.expr.createPseudo?l.expr.createPseudo(function(n){return function(e){return f(e,r(n))}}):function(e,n,t){return f(e,r(t[3]))}}),l.fn.isInViewport=function(t){return this.filter(function(e,n){return f(n,t)})}}(jQuery,window);